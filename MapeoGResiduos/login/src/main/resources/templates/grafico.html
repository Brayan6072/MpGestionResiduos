<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Gráfico de Reportes</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<canvas id="myChart" width="400" height="200"></canvas>

<script th:inline="javascript">
  // Inyecta los datos en formato JSON
  const reportes = /*[[${reportes}]]*/ [];
  const etiquetas = reportes.map(reporte => reporte.clasificacion);
  const datos = reportes.map(reporte => reporte.numero_reportes);

  const ctx = document.getElementById('myChart').getContext('2d');
  const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
          labels: etiquetas,
          datasets: [{
              label: 'Número de reportes',
              data: datos,
              backgroundColor: 'rgba(75, 192, 192, 0.2)',
              borderColor: 'rgba(75, 192, 192, 1)',
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              y: {
                  beginAtZero: true
              }
          }
      }
  });
</script>

</body>
</html>
